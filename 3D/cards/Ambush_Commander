name = 'Ambush Commander'
cardnum = 111
expansion = 'Scourge'
type = characteristic('Creature')
supertype = no_characteristic()
subtypes = characteristic(['Elf'])
cost = '3GG'
color = characteristic(['G'])
text = ['Forests you control are 1/1 green Elf creatures that are still lands.', '1G, Sacrifice an Elf: Target creature gets +3/+3 until end of turn.']

out_play_role.abilities = [CastPermanentSpell(card, cost)]
subrole = Creature(2, 2)
in_play_role = Permanent(card, subrole)

#################################

subrole.abilities = [ActivatedAbility(
	card,
	cost=MultipleCosts([
		ManaCost("1G"),
		SacrificeCost(cardtype=isCard.with_condition(
			lambda c: c.subtypes == "Elf"))]),
	target=Target(target_types=isCreature),
	effects=AugmentPowerToughness(3, 3))]

subrole.static_abilities = [PermanentTrackingAbility(
	card,
	condition = isLand.with_condition(lambda c, self=card:
		c.controller == self.controller and c.subtypes == "Forest"),
	events = SubtypeModifiedEvent(),
	effects = AddSubRole(
		Creature(1,1), {
		"type": "Creature",
		"subtypes": "Elf",
		"color": "G"},
		expire=False))]

#################################