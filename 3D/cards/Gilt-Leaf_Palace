name = 'Gilt-Leaf Palace'
cardnum = 268
expansion = 'Lorwyn'
type = characteristic('Land')
supertype = no_characteristic()
subtypes = no_characteristic()
cost = NoCost()
color = no_characteristic()
text = ["As Gilt-Leaf Palace comes into play, you may reveal an Elf card from your hand. If you don't, Gilt-Leaf Palace comes into play tapped.", 'T Add B or G to your mana pool.']

subrole = Land(color)

in_play_role = Permanent(card, subrole)

#################################

# XXX Broken This should really use the Reveal effect instead of the MoveCard effect

subrole.abilities = [ManaAbility(card, TapCost(), effects=ManaChoice(['B', 'G']))]
subrole.triggered_abilities = [TriggeredAbility(card, trigger = EnteringTrigger(zone="play"),
            				match_condition=SelfMatch(card),
            				ability=StacklessDoOrAbility(card, "0",
                			target=Target(target_types=isCard.with_condition(lambda c: c.subtypes == "Elf"), zone="hand", player_zone="controller"),
						failure_target=Target(targeting="self"),
                				effects=RevealCard(),
                				failed=NullEffect(lambda c, t: t.tap(False))))
]

#################################