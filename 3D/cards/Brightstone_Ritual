name = 'Brightstone Ritual'
cardnum = 191
expansion = 'Onslaught'
type = characteristic('Instant')
supertype = characteristic('')
subtypes = characteristic([])
cost = 'R'
color = characteristic(['R'])
text = ['Add R to your mana pool for each Goblin in play.']

def numgoblins(card=card):
    num = len(card.controller.play.get(isPermanent.with_condition(lambda p: p.subtypes == "Goblin")))
    num2 = len(card.controller.opponent.play.get(isPermanent.with_condition(lambda p: p.subtypes == "Goblin")))
    return "R"*(num+num2)

out_play_role.abilities = [CastNonPermanentSpell(card, cost,
                                effects=AddMana(numgoblins))]

