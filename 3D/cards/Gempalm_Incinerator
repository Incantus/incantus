name = 'Gempalm Incinerator'
cardnum = 94
expansion = 'Legions'
type = characteristic('Creature')
supertype = no_characteristic()
subtypes = characteristic(['Goblin'])
cost = '2R'
color = characteristic(['R'])
text = ['Cycling 1R', 'When you cycle Gempalm Incinerator, you may have it deal X damage to target creature, where X is the number of Goblins in play.']

num_goblins = LazyInt(lambda card=card:
	len(card.controller.play.get(
	isPermanent.with_condition(lambda p: p.subtypes == "Goblin"))) +
	len(card.controller.opponent.play.get(
	isPermanent.with_condition(lambda p: p.subtypes == "Goblin"))))

out_play_role.abilities = [CastPermanentSpell(
	card,
	cost),
Cycling(
	card,
	"1R",
	triggered=Ability(
		card,
		target=Target(target_types=isCreature),
		effects=DealDamage(num_goblins)))]

subrole = Creature(2, 1)
in_play_role = Permanent(card, subrole)