name = 'Graveborn Muse'
cardnum = 145
expansion = '10E'
type = characteristic('Creature')
supertype = no_characteristic()
subtypes = characteristic(['Zombie', 'Spirit'])
cost = '2BB'
color = characteristic(['B'])
text = ['At the beginning of your upkeep, you draw X cards and you lose X life, where X is the number of Zombies you control.']

subrole = Creature(3, 3)

in_play_role = Permanent(card, subrole)

#################################

trigger = PlayerTrigger(event=UpkeepStepEvent())
num_zombies = LazyInt(lambda t=trigger: len(t.player.play.get(isCreature.with_condition(lambda c:c.subtypes=="Zombie"))))
subrole.triggered_abilities = [TriggeredAbility(card,
                                      trigger = trigger,
                                      match_condition = lambda player, card=card: player == card.controller,
                                      ability = Ability(card,
                                                  target=Target(targeting="controller"),
                                                  effects=[DrawCard(num_zombies), ChangeLife(lambda life, n=num_zombies: life-n)]))
]

#################################


